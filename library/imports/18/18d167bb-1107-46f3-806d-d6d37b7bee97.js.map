{"version":3,"sources":["assets/ScrollList.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ScrollItem from \"./ScrollItem\";\n\nconst { ccclass, property, menu, requireComponent } = cc._decorator;\n\n@ccclass\n@menu(\"自定义组件/ScrollList\")\n@requireComponent(cc.ScrollView)\nexport default class ScrollList extends cc.Component {\n  private _scrollView: cc.ScrollView;\n  get scrollView() {\n    return this._scrollView;\n  }\n\n  // 模板Item（Node）\n  @property({\n    type: cc.Node,\n    tooltip: CC_DEV && \"模板Item\",\n  })\n  tmpNode: cc.Node = null;\n\n  // 渲染事件（渲染器）\n  @property({\n    type: cc.Component.EventHandler,\n    tooltip: CC_DEV && \"渲染事件（渲染器）\",\n  })\n  private renderEvent: cc.Component.EventHandler =\n    new cc.Component.EventHandler();\n\n  @property({\n    tooltip: CC_DEV && \"是否启用 Graphics\",\n  })\n  isGraphics: boolean = false;\n\n  @property({\n    type: cc.Graphics,\n    tooltip: CC_DEV && \"Graphics渲染，在list子节点下\",\n    visible() {\n      return this.isGraphics;\n    },\n  })\n  graphics: cc.Graphics = null;\n\n  private _numItems: number = 0;\n  set numItems(value: number) {\n    if (value == null || value < 0) {\n      cc.warn(\"numItems must be greater than or equal to 0\");\n      return;\n    }\n\n    this._scrollView.stopAutoScroll();\n\n    this.recycleItems();\n\n    // this._numItems = value;\n    if (this._layout.type == cc.Layout.Type.VERTICAL) {\n      this.setContentV(value);\n    } else if (this._layout.type == cc.Layout.Type.HORIZONTAL) {\n      this._content.x = 0;\n    }\n    // this.setNumItems(value);\n\n    // let count = 0;\n    // for (let i = 0; i < this._numItems; i++) {\n    //   this.createItem(i, () => {\n    //     count++;\n    //     if (count == this._numItems) {\n    //       this._layout.enabled = false;\n    //       this.updateListItems();\n    //     }\n    //   });\n    // }\n  }\n\n  private _view: cc.Node = null;\n  private _content: cc.Node = null;\n  private _layout: cc.Layout = null;\n\n  // 视口矩形（单位：像素）\n  private _viewRect: cc.Rect = null;\n\n  private _pool: cc.NodePool = new cc.NodePool();\n  private _lastContentPos: cc.Vec3 = cc.Vec3.ZERO;\n  private _scrollDir: number = 0;\n  private _checkBottom: boolean = false;\n  private _checkTop: boolean = false;\n  private _topIndex: number = 0;\n  private _bottomIndex: number = 0;\n  private _isTotalHeight: boolean = false;\n  private _itemsPos: cc.Vec2[] = [];\n\n  protected onLoad(): void {\n    this._registerEvent();\n    this.init();\n  }\n\n  protected onDestroy(): void {\n    this._unregisterEvent();\n  }\n\n  /** 注册事件 */\n  private _registerEvent() {\n    this.node.on(\"touchstart\", this.onTouchStart, this);\n    this.node.on(\"scrolling\", this.onScrolling, this);\n  }\n\n  /** 卸载事件 */\n  private _unregisterEvent() {\n    this.node.off(\"touchstart\", this.onTouchStart, this);\n    this.node.off(\"scrolling\", this.onScrolling, this);\n  }\n\n  /** 初始化列表 */\n  private init() {\n    this._scrollView = this.node.getComponent(cc.ScrollView);\n    this._view = this._scrollView.node;\n    this._content = this._scrollView.content;\n    this._layout = this._content.getComponent(cc.Layout);\n    this._content.removeAllChildren();\n    this._content.height = this._layout.paddingTop;\n    this._layout.enabled = false;\n\n    // 这里要刷新适配，不然rect会错位\n    let widget = this.node.getComponent(cc.Widget);\n    if (widget) {\n      widget.updateAlignment();\n    }\n\n    this._viewRect = this.getWorldRect(this.node);\n    this.drawWorldRect(this._viewRect);\n\n    this._pool.clear();\n    this._lastContentPos = this._content.position.clone();\n    this._scrollDir = 0;\n    this._checkBottom = false;\n    this._checkTop = false;\n    this._topIndex = 0;\n    this._bottomIndex = 0;\n    this._isTotalHeight = false;\n    this._itemsPos = [];\n  }\n\n  /** 回收所有元素 */\n  private recycleItems() {\n    for (let i = this._content.children.length - 1; i >= 0; i--) {\n      let item = this._content.children[i];\n      this._pool.put(item);\n    }\n\n    this._content.height = this._layout.paddingTop;\n    this._layout.enabled = false;\n    this._lastContentPos = this._content.position.clone();\n    this._scrollDir = 0;\n    this._checkBottom = false;\n    this._checkTop = false;\n    this._topIndex = 0;\n    this._bottomIndex = 0;\n    this._isTotalHeight = false;\n    this._itemsPos = [];\n  }\n\n  private setContentV(value: number) {\n    cc.log(\"setContentV:\", value);\n    this._content.y = 0;\n\n    this._itemsPos = [];\n    this._content.height = this._layout.paddingTop;\n    for (let i = 0; i < value; i++) {\n      let setPos = (i, size) => {\n        if (i == 0) {\n          const itemY =\n            -this._content.height + this.tmpNode.anchorY * size.height;\n          const itemX = 0;\n          this._itemsPos.push(cc.v2(itemX, itemY));\n        } else if (i == value - 1) {\n          const itemY =\n            -this._content.height +\n            this._layout.paddingBottom +\n            this.tmpNode.anchorY * size.height;\n          const itemX = 0;\n          this._itemsPos.push(cc.v2(itemX, itemY));\n        } else {\n          const itemY =\n            -this._content.height + this.tmpNode.anchorY * size.height;\n          const itemX = 0;\n          this._itemsPos.push(cc.v2(itemX, itemY));\n        }\n      };\n\n      let isCallback = false;\n      // 这里需要修改高度/宽度\n      if (this.renderEvent) {\n        cc.Component.EventHandler.emitEvents(\n          [this.renderEvent],\n          null,\n          i,\n          (size: cc.Size) => {\n            cc.log(\"isCallback = true;\");\n            isCallback = true;\n            if (i == 0) {\n              this._content.height += size.height;\n            } else if (i == value - 1) {\n              this._content.height +=\n                this._layout.spacingY +\n                size.height +\n                this._layout.paddingBottom;\n            } else {\n              this._content.height += this._layout.spacingY + size.height;\n            }\n            setPos(i, size);\n          },\n        );\n      }\n      if (!isCallback) {\n        cc.log(\"!isCallback\");\n        const size = cc.size(this.tmpNode.width, this.tmpNode.height);\n        if (i == 0) {\n          this._content.height += size.height;\n        } else if (i == value - 1) {\n          this._content.height +=\n            this._layout.spacingY + size.height + this._layout.paddingBottom;\n        } else {\n          this._content.height += this._layout.spacingY + size.height;\n        }\n        setPos(i, size);\n      }\n    }\n    cc.log(\"this._content.height:\", this._content.height);\n    cc.log(\"this._itemsPos:\" + this._itemsPos);\n  }\n\n  /** 设置元素数量 */\n  private setNumItems(value: number) {\n    this._numItems = value;\n\n    this._mapItems.clear();\n    let tempArray = [];\n    for (let i = 0; i < this._numItems; i++) {\n      let item = null;\n\n      item = this._pool.get();\n      if (!item) {\n        item = cc.instantiate(this.tmpNode);\n      }\n\n      // 这里需要修改高度/宽度\n      if (this.renderEvent) {\n        cc.Component.EventHandler.emitEvents([this.renderEvent], item, i);\n      }\n\n      this._content.addChild(item);\n      item.zIndex = i;\n      if (i == 0) {\n        this._content.height += item.height;\n      } else {\n        this._content.height += this._layout.spacingY + item.height;\n        if (i == this._numItems - 1) {\n          this._content.height += this._layout.paddingBottom;\n        }\n      }\n      item.y -= this._content.height - item.anchorY * item.height;\n\n      let out = this.isContainsView(item);\n      cc.log(\"===out:\" + out + \", name:\" + i);\n      if (!out) {\n        tempArray.push(item);\n        if (i == 0) {\n          this._content.height -= item.height;\n        } else {\n          this._content.height -= this._layout.spacingY + item.height;\n          if (i == this._numItems - 1) {\n            this._content.height -= this._layout.paddingBottom;\n          }\n        }\n      } else {\n        this._mapItems.set(i, cc.v2(item.x, item.y));\n      }\n\n      cc.log(\"tempArray length:\" + tempArray.length);\n      if (tempArray.length == 2) {\n        break;\n      }\n    }\n\n    for (let i = 0; i < tempArray.length; i++) {\n      this._pool.put(tempArray[i]);\n    }\n    cc.log(\"this._pool:\", this._pool);\n\n    this._topIndex = 0;\n    this._bottomIndex = this._content.children.length - 1;\n    if (this._bottomIndex == this._numItems - 1) {\n      this._isTotalHeight = true;\n    }\n    cc.log(\"this._topIndex:\", this._topIndex);\n    cc.log(\"this._bottomIndex:\", this._bottomIndex);\n    cc.log(\"this._isTotalHeight:\", this._isTotalHeight);\n    cc.log(\"this._mapItems:\", this._mapItems);\n  }\n\n  /** 创建元素 */\n  private async createItem(listId: number, complete?: Function) {\n    let item = this._content.children[listId];\n    if (!item) {\n      item = cc.instantiate(this.tmpNode);\n      // 这里需要修改高度/宽度\n      if (this.renderEvent) {\n        item.getComponent(ScrollItem).listId = listId;\n        cc.Component.EventHandler.emitEvents([this.renderEvent], item, listId);\n      }\n      this._content.addChild(item);\n      await this.waitFrame();\n    }\n\n    complete && complete();\n  }\n\n  /** 更新所有元素 */\n  private updateListItems() {\n    for (let i = 0; i < this._content.children.length; i++) {\n      this.updateItem(this._content.children[i], i);\n    }\n  }\n\n  /** 更新元素 */\n  private updateItem(item: cc.Node, listId: number) {\n    item.getComponent(ScrollItem).listId = listId;\n    const itemRect = this.getWorldRect(item);\n\n    // ⭐ 完全超出视口判断\n    const isCompletelyOut =\n      itemRect.xMax < this._viewRect.xMin ||\n      itemRect.xMin > this._viewRect.xMax ||\n      itemRect.yMax < this._viewRect.yMin ||\n      itemRect.yMin > this._viewRect.yMax;\n\n    // 只有完全不在视口内才隐藏\n    item.active = !isCompletelyOut;\n  }\n\n  /** 删除元素 */\n  deleteItem(listId: number) {\n    for (let i = this._content.children.length - 1; i >= 0; i--) {\n      let item = this._content.children[i];\n      let itemHeight = item.height;\n      let itemWidth = item.width;\n\n      if (i == listId) {\n        item.removeFromParent();\n      }\n\n      if (i > listId) {\n        item.position = this._content.children[i - 1].position;\n        this.updateItem(item, i - 1);\n      }\n\n      if (i == listId) {\n        if (this._scrollView.vertical) {\n          this._content.height -=\n            itemHeight + this._layout.paddingBottom + this._layout.spacingY;\n        } else if (this._scrollView.horizontal) {\n          this._content.width -=\n            itemWidth + this._layout.paddingRight + this._layout.spacingX;\n        }\n        this.scrollTo(i - 1);\n      }\n    }\n  }\n\n  scrollTo(listId: number, time = 0.3) {\n    let item = this._content.children[listId];\n    if (!item) {\n      return;\n    }\n    // item 在 content 中的本地坐标\n    const itemPos = item.getPosition();\n\n    // 垂直\n    if (this._scrollView.vertical) {\n      // content 当前锚点（通常是 (0.5, 1)）\n      const contentAnchor = this._content.anchorY;\n      const viewAnchor = this._view.anchorY;\n\n      // content 和 view 的高度\n      const contentHeight = this._content.height;\n      const viewHeight = this._view.height;\n\n      /** 关键公式（纵向）ScrollView 的 offset.y 是： content 顶部 到 view 顶部 的距离 */\n      let offsetY =\n        contentHeight * (1 - contentAnchor) - // content 顶部\n        itemPos.y - // item 位置\n        viewHeight * (1 - viewAnchor); // view 顶部\n\n      // 防止滚动超界\n      const maxOffset = contentHeight - viewHeight;\n      offsetY = Math.max(0, Math.min(offsetY, maxOffset));\n\n      this._scrollView.scrollToOffset(cc.v2(0, offsetY), time);\n    }\n    // 水平\n    else if (this._scrollView.horizontal) {\n      let offsetX = itemPos.x - this._view.width / 2 + this._content.width / 2;\n\n      const maxOffset = this._content.width - this._view.width;\n      offsetX = Math.max(0, Math.min(offsetX, maxOffset));\n\n      this.scrollView.scrollToOffset(cc.v2(offsetX, 0), time);\n    }\n  }\n\n  private onTouchStart() {\n    cc.log(\"onTouchStart\");\n\n    // if (this.scrollView.isScrolling()) {\n    //   this._scrollView.stopAutoScroll();\n    // }\n  }\n\n  private onScrolling() {\n    // this.updateListItems();\n\n    // if (!this.scrollView.isScrolling()) return;\n\n    const pos = this._content.position;\n    const deltaY = pos.y - this._lastContentPos.y;\n\n    // if (Math.abs(deltaY) < this._layout.spacingY) return;\n\n    // if (deltaY > 0) {\n    //   this.handleScrollUp();\n    // } else {\n    //   this.handleScrollDown();\n    // }\n\n    this._lastContentPos = pos.clone();\n  }\n\n  handleScrollUp() {\n    cc.log(\"handleScrollUp\");\n\n    const totalIndex = this._numItems - 1;\n    if (this._bottomIndex == totalIndex) {\n      cc.log(\"拉到底了\");\n      cc.log(\"this._content0 position:\" + this._content.children[0].position);\n      cc.log(\n        \"this._content.height:\" +\n        this._content.height +\n        \", this._isTotalHeight:\" +\n        this._isTotalHeight,\n      );\n      return;\n    }\n\n    // 首端的item\n    const firstItem = this._content.children[0];\n    const firstItemOut = this.isOutView(firstItem);\n    cc.log(\"firstItemOut:\" + firstItemOut);\n    if (firstItemOut) {\n      this._pool.put(firstItem);\n      this._topIndex++;\n    }\n\n    // 末端的item\n    const lastItem = this._content.children[this._content.children.length - 1];\n    const lastContains = this.isContainsView(lastItem);\n    cc.log(\"lastContains:\" + lastContains);\n    if (lastContains) {\n      if (this._bottomIndex < totalIndex) {\n        this._bottomIndex++;\n        let newItem = this._pool.get();\n        if (!newItem) {\n          newItem = cc.instantiate(this.tmpNode);\n        }\n        this._content.addChild(newItem);\n        newItem.zIndex = this._bottomIndex;\n        // 这里需要修改高度/宽度\n        if (this.renderEvent) {\n          cc.Component.EventHandler.emitEvents(\n            [this.renderEvent],\n            newItem,\n            this._bottomIndex,\n          );\n        }\n\n        if (!this._isTotalHeight) {\n          this._content.height += this._layout.spacingY + newItem.height;\n        }\n\n        if (this._mapItems.has(this._bottomIndex)) {\n          const mapPos = this._mapItems.get(this._bottomIndex);\n          newItem.setPosition(mapPos);\n        } else {\n          newItem.y =\n            lastItem.y -\n            lastItem.anchorY * lastItem.height -\n            this._layout.spacingY -\n            (1 - newItem.anchorY) * newItem.height;\n          this._mapItems.set(this._bottomIndex, cc.v2(newItem.x, newItem.y));\n        }\n\n        if (this._bottomIndex == totalIndex) {\n          if (!this._isTotalHeight) {\n            this._isTotalHeight = true;\n            this._content.height += this._layout.paddingBottom;\n          }\n          cc.log(\n            \"this._content.height:\" +\n            this._content.height +\n            \", this._isTotalHeight:\" +\n            this._isTotalHeight,\n          );\n        }\n      }\n    }\n    cc.log(\"this._topIndex:\" + this._topIndex);\n    cc.log(\n      \"this._bottomIndex:\" + this._bottomIndex + \", totalIndex:\" + totalIndex,\n    );\n    cc.log(\"this._mapItems:\", this._mapItems);\n  }\n\n  handleScrollDown() {\n    cc.log(\"handleScrollDown\");\n\n    if (this._topIndex == 0) {\n      cc.log(\"拉到顶了\");\n      cc.log(\"this._content0 position:\" + this._content.children[0].position);\n      cc.log(\n        \"this._content.height:\" +\n        this._content.height +\n        \", this._isTotalHeight:\" +\n        this._isTotalHeight,\n      );\n      return;\n    }\n\n    // 首端的item\n    const firstItem = this._content.children[0];\n    const firstContains = this.isContainsView(firstItem);\n    cc.log(\"firstContains:\" + firstContains);\n    if (firstContains) {\n      this._topIndex--;\n      let newItem = this._pool.get();\n      if (!newItem) {\n        newItem = cc.instantiate(this.tmpNode);\n      }\n      this._content.addChild(newItem);\n      newItem.zIndex = this._topIndex;\n      // 这里需要修改高度/宽度\n      if (this.renderEvent) {\n        cc.Component.EventHandler.emitEvents(\n          [this.renderEvent],\n          newItem,\n          this._topIndex,\n        );\n      }\n      const mapPos = this._mapItems.get(this._topIndex);\n      cc.log(\"mapPos:\" + mapPos);\n      newItem.setPosition(mapPos);\n      // newItem.y = firstItem.y + (1 - firstItem.anchorY) * firstItem.height + this._layout.spacingY + newItem.anchorY * newItem.height;\n\n      cc.log(\"newItem.y:\" + newItem.y);\n    }\n\n    // 末端的item\n    const lastItem = this._content.children[this._content.children.length - 1];\n    const lastItemOut = this.isOutView(lastItem);\n    cc.log(\"lastItemOut:\" + lastItemOut);\n    if (lastItemOut) {\n      this._pool.put(lastItem);\n      this._bottomIndex--;\n    }\n\n    cc.log(\"this._topIndex:\" + this._topIndex);\n    cc.log(\"this._bottomIndex:\" + this._bottomIndex);\n\n    // 首端的item\n    // const curItem = this._content.children[0];\n    // const deltaTopY = this.getScrollDownTopY(0);\n    // cc.log(\"deltaTopY:\" + deltaTopY);\n    // if (deltaTopY > 0) {\n    //   if (!this._checkTop) {\n    //     this._checkTop = true;\n    //     let newItem = this._pool.get();\n    //     if (!newItem) {\n    //       newItem = cc.instantiate(this.tmpNode)\n    //     }\n    //     this._content.addChild(newItem);\n    //     newItem.zIndex = 0;\n    //     // 这里需要修改高度/宽度\n    //     if (this.renderEvent) {\n    //       cc.Component.EventHandler.emitEvents([this.renderEvent], newItem, 0);\n    //     }\n    //     newItem.y = curItem.y + (1 - curItem.anchorY) * curItem.height + this._layout.spacingY + newItem.anchorY * newItem.height\n    //     this._checkTop = false;\n    //   }\n    // }\n\n    // 末端的item\n    // const deltaBottomY = this.getScrollDownBottomY(this._content.children.length - 1);\n    // cc.log(\"deltaBottomY:\" + deltaBottomY);\n    // if (deltaBottomY < 0) {\n    //   const bottomItem = this._content.children[this._content.children.length - 1];\n    //   this._pool.put(bottomItem);\n\n    //   // this._content.height -= bottomItem.height + this._layout.spacingY;\n    // }\n  }\n\n  getScrollUpTopY(index: number) {\n    const item = this._content.children[index];\n    const itemY = item.y - item.anchorY * item.height;\n    const localItemY = itemY + this._content.y;\n    const topY = 0;\n    const deltaTopY = topY - localItemY;\n    return deltaTopY;\n  }\n\n  getScrollUpBottomY(index: number) {\n    const item = this._content.children[index];\n    const itemY = item.y - item.anchorY * item.height;\n    const localItemY = itemY + this._content.y;\n    const bottomY = -this.node.anchorY * this.node.height;\n    const deltaBottomY = localItemY - bottomY;\n    return deltaBottomY;\n  }\n\n  getScrollDownTopY(index: number) {\n    const item = this._content.children[index];\n    const itemY = item.y + (1 - item.anchorY) * item.height;\n    const localItemY = itemY + this._content.y;\n    const topY = 0;\n    const deltaTopY = topY - localItemY;\n    return deltaTopY;\n  }\n\n  getScrollDownBottomY(index: number) {\n    const item = this._content.children[index];\n    const itemY = item.y + (1 - item.anchorY) * item.height;\n    const localItemY = itemY + this._content.y;\n    const bottomY = -this.node.anchorY * this.node.height;\n    const deltaBottomY = localItemY - bottomY;\n    return deltaBottomY;\n  }\n\n  /** 分帧等待 */\n  private waitFrame(): Promise<void> {\n    return new Promise((resolve) => {\n      cc.director.once(cc.Director.EVENT_AFTER_UPDATE, resolve);\n    });\n  }\n\n  /** 获取节点的世界矩形 */\n  private getWorldRect(node: cc.Node): cc.Rect {\n    const worldPos = node.convertToWorldSpaceAR(cc.Vec2.ZERO);\n\n    const xMin = worldPos.x - node.anchorX * node.width;\n    const yMin = worldPos.y - node.anchorY * node.height;\n\n    return new cc.Rect(xMin, yMin, node.width, node.height);\n  }\n\n  /** 世界 Rect → 本地 Rect */\n  private drawWorldRect(worldRect: cc.Rect) {\n    if (!this.graphics) {\n      return;\n    }\n    const g = this.graphics.getComponent(cc.Graphics);\n    g.clear();\n\n    // 世界 Rect 四个角\n    const lb = cc.v2(worldRect.xMin, worldRect.yMin); // 左下\n    const rt = cc.v2(worldRect.xMax, worldRect.yMax); // 右上\n\n    // 转换到 Graphics 节点的本地坐标\n    const localLB = this.graphics.node.convertToNodeSpaceAR(lb);\n    const localRT = this.graphics.node.convertToNodeSpaceAR(rt);\n\n    const width = localRT.x - localLB.x;\n    const height = localRT.y - localLB.y;\n\n    g.rect(localLB.x, localLB.y, width, height);\n    g.stroke();\n  }\n\n  /** 判断元素是否完全超出视口 */\n  private isOutView(item: cc.Node) {\n    const itemRect = this.getWorldRect(item);\n\n    // ⭐ 完全超出视口判断\n    const isCompletelyOut =\n      itemRect.xMax < this._viewRect.xMin ||\n      itemRect.xMin > this._viewRect.xMax ||\n      itemRect.yMax < this._viewRect.yMin ||\n      itemRect.yMin > this._viewRect.yMax;\n\n    return isCompletelyOut;\n  }\n\n  /** 判断元素是否与视口相交 */\n  private isIntersectView(item: cc.Node) {\n    const itemRect = this.getWorldRect(item);\n    return itemRect.intersects(this._viewRect);\n  }\n\n  /** 判断元素是否完全包含在视口内 */\n  private isContainsView(item: cc.Node) {\n    const itemRect = this.getWorldRect(item);\n    return this._viewRect.containsRect(itemRect);\n  }\n}\n"]}